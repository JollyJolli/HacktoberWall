const MOON='<i class="fas fa-moon"></i>',SUN='<i class="fas fa-sun"></i>',GHOST='<i class="fas fa-ghost"></i>';let toggleCount=0,cachedContributors=null;const modal=document.querySelector(".modal"),modalWrapper=document.querySelector(".modal-wrapper"),modalContent=document.querySelector(".modal-content"),modalClose=document.querySelector(".close-modal-button"),contributerCount=document.querySelector(".total-contributors");function initializeThemeSwitching(){let e=document.getElementById("toggleButton"),t=document.body,o=localStorage.getItem("theme")||"light-mode";t.classList.add(o),updateIcon(o,e),e.addEventListener("click",()=>{1==++toggleCount?(t.classList.remove("light-mode","halloween-mode"),t.classList.add("dark-mode"),localStorage.setItem("theme","dark-mode"),updateIcon("dark-mode",e)):2===toggleCount?(t.classList.remove("dark-mode","light-mode"),t.classList.add("halloween-mode"),localStorage.setItem("theme","halloween-mode"),updateIcon("halloween-mode",e)):(t.classList.remove("dark-mode","halloween-mode"),t.classList.add("light-mode"),localStorage.setItem("theme","light-mode"),updateIcon("light-mode",e),toggleCount=0)})}function flyInGhost(){let e=document.getElementById("flyingGhost");e.style.right="100px"}function updateIcon(e,t){"dark-mode"===e?t.innerHTML=MOON:"halloween-mode"===e?t.innerHTML='<i class="fas fa-ghost"></i>':t.innerHTML=SUN}function checkHalloweenDate(){let e=new Date;9===e.getMonth()&&31===e.getDate()&&(document.body.classList.remove("light-mode","dark-mode"),document.body.classList.add("halloween-mode"),localStorage.setItem("theme","halloween-mode"))}async function loadContributors(){if(null!==cachedContributors)return cachedContributors;let e=null;showLoadingScreen();try{let t=await fetch("data/contributors.json");if(!t.ok)throw Error(`Failed to load contributors: HTTP status ${t.status} (${t.statusText})`);e=await t.json();let o=countItems(e);contributerCount.textContent=`Total: ${o}`,cachedContributors=e}catch(n){console.error("Error loading contributors:",n),alert("Oops! Something went wrong while loading the contributors. Please try again later.\n\nError details: "+n.message)}finally{hideLoadingScreen()}return e}function countItems(e){return Array.isArray(e)?e.length:Object.keys(e).length}function shuffle(e){for(let t=e.length-1;t>0;t--){let o=Math.floor(Math.random()*(t+1));[e[t],e[o]]=[e[o],e[t]]}}async function displayContributors(e="",t="default"){let o=document.getElementById("wall"),n=await loadContributors();o.innerHTML="",shuffle(n),"asc"===t?n.sort((e,t)=>e.name.localeCompare(t.name)):"desc"===t&&n.sort((e,t)=>t.name.localeCompare(e.name)),n.forEach((t,n)=>{if(t.name.toLowerCase().includes(e.toLowerCase())){let a=document.createElement("div");a.classList.add("participant"),a.textContent=t.name,a.style.animationDelay=`${.1*n}s`,o.appendChild(a)}})}function initializeSearchAndSort(){let e=document.getElementById("searchInput"),t=document.getElementById("searchButton"),o=document.getElementById("sortSelect");e.addEventListener("input",()=>{displayContributors(e.value,o.value)}),t.addEventListener("click",()=>{displayContributors(e.value,o.value)}),o.addEventListener("change",()=>{displayContributors(e.value,o.value)})}function initializeDarkMode(){let e=document.getElementById("toggleButton"),t=document.body,o="enabled"===localStorage.getItem("dark-mode");t.classList.toggle("dark-mode",o),e.innerHTML=o?MOON:SUN,e.addEventListener("click",()=>{t.classList.toggle("dark-mode");let o=t.classList.contains("dark-mode");localStorage.setItem("dark-mode",o?"enabled":"disabled"),e.innerHTML=o?MOON:SUN,2==++toggleCount&&(activateRainbowMode(),toggleCount=0)})}function activateRainbowMode(){let e=document.body;e.classList.add("rainbow-mode"),setTimeout(()=>{e.classList.remove("rainbow-mode")},5e3)}function addParticipantHoverEffect(){let e=document.getElementById("wall");e.addEventListener("mouseover",e=>{e.target.classList.contains("participant")&&(e.target.style.transform="translateY(-5px)")}),e.addEventListener("mouseout",e=>{e.target.classList.contains("participant")&&(e.target.style.transform="translateY(0)")})}modalClose.addEventListener("click",closeModal);const funFacts=["The first Hacktoberfest event was held in 2014.","Hacktoberfest was created by DigitalOcean and GitHub.","Open source software powers much of the internet's infrastructure.","The term 'open source' was coined in 1998.","Linux, the most famous open source project, was created in 1991.","The Hacktoberfest Challenge is to have 4 open source contrubutions accepted, but you can do more.","Particpating in Hacktoberfest is a great way to gain skills",],sections=Array.from(document.querySelectorAll("section"));let sectionsName=sections.map(e=>e.className);for(let i=0;i<sectionsName.length;i++)sectionsName[i]=sectionsName[i].replace("section.","");function getRandomItem(e){return e[Math.floor(Math.random()*e.length)]}function showFunFact(){let e=getRandomItem(funFacts);modal.setAttribute("aria-hidden",!1),modal.setAttribute("aria-modal",!0),modal.classList.remove("hidden"),modalContent.textContent=e}function closeModal(){modal.classList.add("hidden"),modal.setAttribute("aria-hidden",!0),modal.removeAttribute("aria-modal"),modalContent.textContent=""}function scrollToRandomSection(){let e=getRandomItem(sectionsName),t=document.querySelector(`.${e}`);t.scrollIntoView({behavior:"smooth",block:"start"})}function handleSurprise(){.5>Math.random()?showFunFact():scrollToRandomSection()}function initializeSurpriseButton(){let e=document.getElementById("surpriseButton");e.addEventListener("click",handleSurprise)}function showLoadingScreen(){let e=document.getElementById("loading-screen");e.style.display="flex"}function hideLoadingScreen(){let e=document.getElementById("loading-screen");e.style.display="none"}window.onclick=function(e){e.target===modal&&closeModal()},window.onload=function(){displayContributors(),initializeDarkMode(),addParticipantHoverEffect(),initializeSearchAndSort(),initializeSurpriseButton(),initializeThemeSwitching(),checkHalloweenDate(),document.body.classList.contains("halloween-mode")&&flyInGhost()};const backToTopBtn=document.getElementById("backToTopBtn");window.onscroll=function(){document.body.scrollTop>100||document.documentElement.scrollTop>100?backToTopBtn.style.display="block":backToTopBtn.style.display="none"},backToTopBtn.addEventListener("click",function(){window.scrollTo({top:0,behavior:"smooth"})}),document.getElementById("titleLink").addEventListener("click",e=>{e.preventDefault();let t=document.body;t.classList.contains("dark-mode")&&(playSpookySound(),showHalloweenIcon())}),SmoothScroll({animationTime:800,stepSize:75,accelerationDelta:30,accelerationMax:2,keyboardSupport:!0,arrowScroll:50,pulseAlgorithm:!0,pulseScale:4,pulseNormalize:1,touchpadSupport:!0});var popup=document.getElementById("imagePopup"),triggerImg=document.getElementById("triggerImage"),popupImage=document.getElementById("popupImage"),captionText=document.getElementById("caption");triggerImg.onclick=function(){console.log("Trigger image clicked!"),popup.style.display="flex",captionText.innerHTML="Halloween is Coming!!!"};var closeBtn=document.getElementsByClassName("close-btn")[0];closeBtn.onclick=function(){popup.style.display="none"};